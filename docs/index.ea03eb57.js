class o{constructor(o){this.position=o}update(o){}draw(o,e){}keyboard_event_down(o){}keyboard_event_up(o){}}const e=(o,e,t)=>o.x<500-("red"===t?e.w:-1*e.w)&&o.x>("red"===t?0:0-e.w)&&o.y<500-e.h&&o.y>0;class t extends o{constructor(o={w:30,h:30},e={x:500+o.w,y:350}){super(e),this.goombaSize=o,this.goombaColor="blue",this.goombaSpeed=40}update(o){let t={x:this.position.x-this.goombaSpeed*o,y:this.position.y};e(t,this.goombaSize,this.goombaColor)?this.position=t:this.position={x:500+this.goombaSize.w,y:350}}draw(o,e){e.fillStyle=this.goombaColor,e.fillRect(this.position.x,this.position.y,this.goombaSize.w,this.goombaSize.h)}}let i;!function(o){o[o.UP=0]="UP",o[o.DOWN=1]="DOWN",o[o.LEFT=2]="LEFT",o[o.RIGHT=3]="RIGHT"}(i||(i={}));let s={ArrowUp:i.UP,ArrowDown:i.DOWN,ArrowLeft:i.LEFT,ArrowRight:i.RIGHT};class r extends o{constructor(o={w:30,h:30},e={x:10,y:350}){super(e),this.marioSize=o,this.marioColor="red",this.marioSpeed=0,this.marioAceleration=0,this.keyboardMap=s,this.jumSpeed=0,this.jump=!1}update(o){this.marioSpeed=.9*this.marioSpeed+this.marioAceleration;let t=0;if(this.jump){this.jumSpeed+=.8,t=40*Math.sin(10*this.jumSpeed*o)+40;Number(t.toFixed(2))<.1&&(t=.1,this.jump=!1)}let i={x:this.position.x+this.marioSpeed*o,y:350-t};e(i,this.marioSize,this.marioColor)&&(this.position=i)}draw(o,e){e.fillStyle=this.marioColor,e.fillRect(this.position.x,this.position.y,this.marioSize.w,this.marioSize.h)}keyboard_event_down(o){let e=this.keyboardMap[o];e==i.LEFT?this.marioAceleration=-10:e==i.RIGHT?this.marioAceleration=10:e==i.UP&&(console.log("JUMP!"),this.jump=!0)}keyboard_event_up(o){let e=this.keyboardMap[o];(e==i.RIGHT||e==i.LEFT)&&(this.marioAceleration=0)}}window.onload=()=>{console.log("ready");const o=document.getElementById("canvas"),e=o.getContext("2d"),i=new r,s=[new t,i];let a=0;const n=t=>{const i=(t-a)/1e3;a=t,s.forEach((o=>o.update(i))),e.clearRect(0,0,o.width,o.height),s.forEach((o=>o.draw(i,e))),window.requestAnimationFrame(n)};document.body.addEventListener("keydown",(o=>{i.keyboard_event_down&&i.keyboard_event_down(o.key)})),document.body.addEventListener("keyup",(o=>{i.keyboard_event_up&&i.keyboard_event_up(o.key)})),window.requestAnimationFrame(n)};
//# sourceMappingURL=index.ea03eb57.js.map
