class t{constructor(t){this.position=t}update(t){}draw(t,e){}keyboard_event_down(t){}keyboard_event_up(t){}}const e=(t,e,o)=>t.x<500-("red"===o?e.w:-1*e.w)&&t.x>("red"===o?0:0-e.w)&&t.y<500-e.h&&t.y>0;let o;!function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(o||(o={}));let i={ArrowUp:o.UP,ArrowDown:o.DOWN,ArrowLeft:o.LEFT,ArrowRight:o.RIGHT};class s extends t{constructor(t={w:30,h:30},e={x:10,y:350}){super(e),this.marioSize=t,this.marioColor="red",this.marioSpeed=0,this.marioAceleration=0,this.keyboardMap=i,this.jumSpeed=0,this.jump=!1}update(t){this.marioSpeed=.9*this.marioSpeed+this.marioAceleration;let o=0;if(this.jump){this.jumSpeed+=.8,o=40*Math.sin(10*this.jumSpeed*t)+40;Number(o.toFixed(2))<.1&&(o=.1,this.jump=!1)}let i={x:this.position.x+this.marioSpeed*t,y:350-o};e(i,this.marioSize,this.marioColor)&&(this.position=i)}draw(t,e){e.fillStyle=this.marioColor,e.fillRect(this.position.x,this.position.y,this.marioSize.w,this.marioSize.h)}keyboard_event_down(t){let e=this.keyboardMap[t];e==o.LEFT?this.marioAceleration=-10:e==o.RIGHT?this.marioAceleration=10:e==o.UP&&(console.log("JUMP!"),this.jump=!0)}keyboard_event_up(t){let e=this.keyboardMap[t];(e==o.RIGHT||e==o.LEFT)&&(this.marioAceleration=0)}}class r extends t{constructor(t={w:30,h:30},e={x:500+t.w,y:350}){super(e),this.goombaSize=t,this.goombaColor="blue",this.goombaSpeed=40}update(t){let o={x:this.position.x-this.goombaSpeed*t,y:this.position.y};e(o,this.goombaSize,this.goombaColor)?this.position=o:this.position={x:500+this.goombaSize.w,y:350}}draw(t,e){e.fillStyle=this.goombaColor,e.fillRect(this.position.x,this.position.y,this.goombaSize.w,this.goombaSize.h)}}class a extends t{update(){}keyboard_event(){}draw(t,e){const o=(1/t).toFixed(2);e.font="15px Arial",e.fillStyle="black",e.fillText(`FPS: ${o}`,this.position.x,this.position.y)}}class n extends t{constructor(t={x:100,y:15}){super(t),this.score=0}update(){}keyboard_event(){}draw(t,e){this.score+=1,e.font="15px Arial",e.fillStyle="black",e.fillText(`SCORE:${(this.score/30).toFixed(0)}`,this.position.x,this.position.y)}}window.onload=()=>{console.log("ready");const t=document.getElementById("canvas"),e=t.getContext("2d"),o=new s,i=new r,d=new a({x:5,y:15}),h=new n,l=[i,o,d,h];let p=0;const m=o=>{const i=(o-p)/1e3;p=o,l.forEach((t=>t.update(i))),e.clearRect(0,0,t.width,t.height),l.forEach((t=>t.draw(i,e))),window.requestAnimationFrame(m)};document.body.addEventListener("keydown",(t=>{o.keyboard_event_down&&o.keyboard_event_down(t.key)})),document.body.addEventListener("keyup",(t=>{o.keyboard_event_up&&o.keyboard_event_up(t.key)})),window.requestAnimationFrame(m)};
//# sourceMappingURL=index.3c94217b.js.map
